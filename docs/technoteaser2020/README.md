# SAP Техноблъсканица 2020

{::nomarkdown}
<div style="display:none"><img src="https://winwithsap.hana.ondemand.com/services/web/TechQuiz/user/images/sharePicture.png"></div>
<link rel="stylesheet" href="../styles/technoteaser.css">
<link rel="stylesheet" href="../styles/footer.css">
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>

<input type="checkbox" id=week1Toggle>
<label for=week1Toggle class="week">
<h2 id=week1>Седмица №1 <span></span></h2>
</label>	
<div>
<h3 id="week1,question1">Най-доброто лекарство</h3>
<p>При проучвания на лечението на рядко заболяване са направени независими едно от друго изпитания на 2 лекарства (лекарство А и лекарство Б).
Всеки доброволец е трябвало да взема едно от лекарствата в продължение на една седмица, за да се установи дали то е ефикасно, или не.<br>Проучванията продължили 2 седмици.
През първата седмица лекарство А е било ефикасно и е излекувало 63 души от общо 90 доброволци (което прави 70% от участвалите). Лекарство Б е било ефикасно при 8 от общо 10 доброволци (80% от участвалите).
През втората седмица лекарство А е било ефикасно при 4 от 10 доброволци (или 40% от участвалите), а лекарство Б е било ефикасно при 45 от 90 доброволци (или 50% от участвалите).

<table style="border-collapse: collapse; margin-top: 10px; margin-bottom: 10px; font-weight: bold; ">
	<tr style="background-color: LightGray;">
		<td style="padding-left: 5px; padding-right: 5px; padding-top: 5px; padding-bottom: 5px;">Седмица</td><td align=center style="padding-left: 5px; padding-right: 5px; padding-top: 5px; padding-bottom: 5px;">Лекарство A</td><td align=center style="padding-left: 5px; padding-right: 5px; padding-top: 5px; padding-bottom: 5px;">Лекарство Б</td>
	</tr>
	<tr>
		<td align=center style="padding-left: 5px; padding-right: 5px; padding-top: 5px; padding-bottom: 5px;">Седмица 1</td><td align=center style="padding-left: 5px; padding-right: 5px; padding-top: 5px; padding-bottom: 5px;">\( \dfrac{63}{90}=70 \% \)</td><td align=center style="padding-left: 5px; padding-right: 5px; padding-top: 5px; padding-bottom: 5px;">\( \dfrac{8}{10}=80 \% \)</td>
	</tr>
	<tr>
		<td align=center style="padding-left: 5px; padding-right: 5px; padding-top: 5px; padding-bottom: 5px;">Седмица 2</td><td align=center style="padding-left: 5px; padding-right: 5px; padding-top: 5px; padding-bottom: 5px;">\( \dfrac{4}{10}=40 \% \)</td><td align=center style="padding-left: 5px; padding-right: 5px; padding-top: 5px; padding-bottom: 5px;">\( \dfrac{45}{90}=50 \% \)</td>
	</tr>
</table>

Кое лекарство е по-ефикасно?

<ul class="answersWithRadio">
	<li> Лекарство А е по-ефикасно</li>
	<li> Лекарство Б е по-ефикасно</li>
	<li> Двете лекарства са еднакво добри</li>
</ul>
</p>
<div>
	<input type="checkbox" id=solution11><label class="explanationbutton" for=solution11><span>Обяснение</span></label>
	<div class="explanation">
Гледайки само процентите, на пръв поглед изглежда, че лекарство А е по-неефикасно от лекарство Б (70% и 40% спрямо 80% и 50%).<br>
Въпреки това, една реална проверка на данните изисква пресмятане на крайния процент положително повлияли се хора спрямо всички участвали в изпитанията на конкретното лекарство. В случая доброволците при проучванията и на двете лекарства са точно 100 и е достатъчно да проверим кое лекарство е помогнало на повече (като брой) хора. Лекарство А е помогнало на 63 + 4 = 67 човека (или 67% от всички участвали), а лекарство Б е помогнало на 8 + 45 = 53 човека (или 53% от участвалите), <b>което прави лекарство А по-ефикасно</b>.<br><br>
Защо не можем да вземем средното аритметично на процентните резултати от двете седмици, например за лекарство А (70+40)/2=55%, а за лекарство Б (80+50)/2=65% ?<br>
Причината е във факта, че резултатите от двете седмици имат различна тежест, която зависи от броя доброволци, участвали през тази седмица.
<hr>
Този противоречив и дори заблуждаващ начин на представяне на данните е добре познат в статистиката под името <a href="https://en.wikipedia.org/wiki/Simpson%27s_paradox" target=_blank> Парадокс на Симпсън</a>. Известни са и немалко примери от реалния живот, като например добилият популярност през далечната 1973 г. случай на несъществуваща <a href="https://medium.com/@dexter.shawn/how-uc-berkeley-almost-got-sued-because-of-lying-data-aaa5d641f571" target=_blank> полова дискриминация в Калифорнийския университет, Бъркли</a>, провокиран от недобре интерпретирана информация.<br>

	</div> 
</div>
<h3 id="week1,question2">Здрависване с 9 човека</h3>
<p>На първата мениджърска среща след COVID-19 пандемията присъстват на място в стаята 27 човека. <br>
Възможно ли е всеки в стаята да се здрависа с точно 9 човека?<br>
Разбира се, други хора не участват <img src="https://winwithsap.hana.ondemand.com/services/js/TechQuiz/DocumentService/GetDocument.js?id=XM8dNAdgLdQLXr82FT-8KNvS3JdX4Sg3XOnI5C9bj64" width="20px" alt="Усмивка" title="Усмивка">, закъснели няма <img src="https://winwithsap.hana.ondemand.com/services/js/TechQuiz/DocumentService/GetDocument.js?id=MgD-x1EIDmjmllRROG9xvGp9I34YL-vXULekz3nmBe4" width="20px" alt="Онемял" title="Онемял"> и всички са все още в добро психично здраве, т.е. никой не се здрависва сам със себе си <img src="https://winwithsap.hana.ondemand.com/services/js/TechQuiz/DocumentService/GetDocument.js?id=hCbLs0jTqHI9jYS92iQ7u1lSkHzoztPJEyuXGFiuVA8" width="20px" alt="Изчервяване" title="Изчервяване"></p>
<div>
	<input type="checkbox" id=solution12><label class="explanationbutton" for=solution12><span>Обяснение</span></label>
	<div class="explanation">
Нека предположим, че всеки в стаята се е здрависал с 9 човека и се опитаме да преброим общия брой здрависвания. В едно здрависване участват двама човека, т.е. здрависванията са равни на \( 27*9/2 = 121.5 \), което не е цяло число, откъдето следва, че предположението ни е грешно. Следователно <b>не е възможно в стая с 27 човека всеки да се е здрависал с 9 човека.</b>
	</div> 
</div>

<h3 id="week1,question3">Здрависване с х човека</h3>
<p>Все още обсъждаме мениджърската среща <img src="https://winwithsap.hana.ondemand.com/services/js/TechQuiz/DocumentService/GetDocument.js?id=FHKYiDwH8gHO-gAYwsykDJPznhss7NBYoMCgWl6MPuc" width="20px" alt="Изчервяване" title="Изчервяване">!<br>
В стаята все още има 27 човека.<br>
Ако всеки се е здрависал с еднакъв брой хора, колко най-много може да е той, ако знаем, че не се е здрависал всеки с всеки?</p>
<div>
	<input type="checkbox" id=solution13><label class="explanationbutton" for=solution13><span>Обяснение</span></label>
	<div class="explanation">
От решението на предишната задача вече знаем, че в стаята всеки може да се здрависа с четен (еднакъв) брой хора. Ако всеки се здрависа с 26 човека, това ще означава здрависване всеки с всеки. Следващата възможност е всеки да се здрависа с 24 човека (всички останали без двама). За да проверим, че това е възможно, нека помислим за съответстващо правило за здрависване. Понеже здрависванията са много, всъщност, ще бъде по-лесно да помислим за правило, по което двама души не се здрависват.<br>
Ако подредим хората в кръг, тогава всеки ще има по двама съседи (отляво и отдясно по един) и това би било удобно условие за не-здрависване.<br>
Ако обозначим мениджърите в стаята с m<sub>1</sub>, m<sub>2</sub>, ... , m<sub>27</sub>, чисто математически това правило можем да запишем като:
<ul>
    	<li>m<sub>1</sub> не се здрависва с m<sub>27</sub> и m<sub>2</sub></li>
    	<li>m<sub>i</sub> не се здрависва с m<sub>i-1</sub> и m<sub>i+1</sub>, за i ∈ (1, 27)</li>
    	<li>m<sub>27</sub> не се здрависва с m<sub>26</sub> и m<sub>1</sub></li>
</ul>
Отговор: <b>всеки може да се е здрависал най-много с 24 човека.</b>
	</div> 
</div>
</div>
<!-- end of week 1-->
<input type="checkbox" id=week2Toggle>
<label for=week2Toggle class="week">
<h2 id=week2>Седмица №2 <span></span></h2>
</label>
<div>
<h3 id="week2,question1">Тенис на маса</h3>
<p>Асен, Борис и Влади играли тенис на маса. Във всяка игра участвали двама от тях, а третият си почивал. В следващата игра участвали победителят от текущата игра и почивалият си. След като приключили с игрите се оказало, че Асен е играл в 8 игри, Борис - в 11, а Влади - в 15.<br>Кой е загубил четвъртата игра?</p>
<div>
	<input type="checkbox" id=solution21><label class="explanationbutton" for=solution21><span>Обяснение</span></label>
	<div class="explanation">
От информацията, с която разполагаме, можем да пресметнем общо колко игри са били изиграни. Тъй като във всяка игра участват по двама, броят на игрите е \( (8+11+15)/2 = 17 \).<br>
Ако играч участва в първата игра и губи във всяка своя игра, ще вземе участие в нечетните игри (1,3,5,7,9,11,13,15,17), т.е. в 9 игри.<br>
Ако играч участва във втората игра и губи във всяка своя игра, ще вземе участие в четните игри (2,4,6,8,10,12,14,16), т.е. в 8 игри.<br>
Tъй като участие в 8 игри е теоретичният минимум, то можем да сме сигурни, че Асен е взел участие във втората (и всички четни) игри и е загубил във всички тях, което означава и че <b>Асен е загубил четвъртата игра</b>.
	</div>
</div>
<h3 id="week2,question2">Наследството</h3>
<p>Баща завещал парите си на своите деца по следното правило:<br>
<ol>
	<li>Най-голямото дете получава 1000 лв. и една десета от останалите пари;</li>
	<li>Второто по големина дете (ако го има), получава 2000 лв. и една десета от останалите към този момент пари;</li>
	<li>Третото по големина дете (ако го има), получава 3000 лв. и една десета от новия остатък;</li>
	<li style="list-style-type: none;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;... </li>
	<li style="list-style-type: none;"> n-тото по големина дете (ако го има), получава n*1000 лв. и една десета от останалите към този момент пари.</li>
</ol>
Оказало се, че парите били раздадени без остатък и всяко дете получило една и съща сума пари.<br>
Колко най-много на брой деца е имал бащата?</p>
<div>
	<input type="checkbox" id=solution22><label class="explanationbutton" for=solution22><span>Обяснение</span></label>
	<div class="explanation">
Задачата има едно тривиално решение, когато бащата има 1 дете и 1000 лв., които му дава по така дефинираното правило.<br>
Как проверяваме за други решения?<br>
Нека бащата е имал в началото \( x \) лв. и повече от едно дете.<br>
Тогава първото дете ще получи \( а_1=1000 + \dfrac{1}{10}(x-1000) \) лева,<br>
а второто дете ще получи \( а_2 = 2000 + \dfrac{1}{10}(x-2000-а_1) \) лева.<br>
Понеже \( а_1 = а_2 \) , получаваме следното уравнение:<br>
\( 1000 + \dfrac{1}{10}(x-1000) =  2000 + \dfrac{1}{10}(x-2000 - (1000 + \dfrac{1}{10}(x-1000))) \iff \)<br>
\( x-1000 =  10000 + x-2000 - 1000 - \dfrac{1}{10}(x-1000) \iff \)<br> 
\( \dfrac{1}{10}(x-1000) = 8000 \iff \)<br> 
\( x-1000 = 80000 \iff \)<br> 
\( x = 81000 \)<br> 
Тъй като така съставеното уравнение ни гарантира само факта, че първото и второто по възраст деца получават една и съща сума пари, трябва да проверим какво биха получили останалите:
<ol>
	<li>Първото дете получава \( 1000 + \dfrac{1}{10}(81000-1000) = 1000+8000=9000\) лв., като остават 72000 лв.</li>
	<li>Второто дете получава \( 2000 + \dfrac{1}{10}(72000-2000) = 2000+7000=9000\) лв., като остават 63000 лв.</li>
	<li>Третото дете получава \( 3000 + \dfrac{1}{10}(63000-3000) = 3000+6000=9000\) лв., като остават 54000 лв.</li>
	<li>Четвъртото дете получава \( 4000 + \dfrac{1}{10}(54000-4000) = 4000+5000=9000\) лв., като остават 45000 лв.</li>
	<li>Петото дете получава \( 5000 + \dfrac{1}{10}(45000-5000) = 5000+4000=9000\) лв., като остават 36000 лв.</li>
	<li>Шестото дете получава \( 6000 + \dfrac{1}{10}(36000-6000) = 6000+3000=9000\) лв., като остават 27000 лв.</li>
	<li>Седмото дете получава \( 7000 + \dfrac{1}{10}(27000-7000) = 7000+2000=9000\) лв., като остават 18000 лв.</li>
	<li>Осмото дете получава \( 8000 + \dfrac{1}{10}(18000-8000) = 8000+1000=9000\) лв., като остават 9000 лв.</li>
	<li>Деветото дете получава \( 9000 + \dfrac{1}{10}(9000-9000) = 9000+0=9000\) лв., като не остават повече пари.</li>
</ol>
Следователно <b>бащата е имал най-много 9 деца.</b>
	</div>
</div>
<h3>4 камъка и везна</h3> 
<p>Разполагаме с 4 камъка с различен цвят. Знаем, че един от тях тежи 1 грам, един тежи 2 грама, един тежи 3 грама и един тежи 4 грама, но не знаем конкретно кой камък колко тежи. Разполагаме и с везна, която показва от коя страна сме поставили по-голяма тежест или че от двете страни сме поставили едно и също тегло, но не и колко конкретно е теглото на някоя от страните.<img width=150px src="https://winwithsap.hana.ondemand.com/services/js/TechQuiz/DocumentService/GetDocument.js?id=ooyehJUtILEihlXxb3KC2H_G7t5SWodhbEiBhrAb_iM" style="float: right;"> Можем да поставяме прозволен брой камъни на всяка страна на везната.<br>
С колко най-малко претегляния можем да определим теглото на всеки камък (вкл. при най-лошия за нас сценарий, т.е. без да разчитаме на късмет)?</p>
<div>
	<input type="checkbox" id=solution23><label class="explanationbutton" for=solution23><span>Обяснение</span></label>
	<div class="explanation">
Нека обозначим камъните с <font color="darkred">A</font>, <font color="darkred">B</font>, <font color="darkred">C</font> и <font color="darkred">D</font>.Всеки от тях може да участва в точно 3 двойки. Например за камъка <font color="darkred">A</font> това са (<font color="darkred">A</font>, <font color="darkred">B</font>), (<font color="darkred">A</font>, <font color="darkred">C</font>) и (<font color="darkred">A</font>, <font color="darkred">D</font>). На всяка двойка камъни можем да съпоставим останалите два камъка:
<ul>
	<li>(<font color="darkred">A</font>, <font color="darkred">B</font>)  -  (<font color="darkred">C</font>, <font color="darkred">D</font>)</li>
	<li>(<font color="darkred">A</font>, <font color="darkred">C</font>)  -  (<font color="darkred">B</font>, <font color="darkred">D</font>)</li>
	<li>(<font color="darkred">A</font>, <font color="darkred">D</font>)  -  (<font color="darkred">B</font>, <font color="darkred">C</font>)</li>
</ul>
Ако това са три последователни претегляния, след тях ще сме в състояние да кажем кой е най-тежкият камък (с тегло 4 грама) и кой е най-лекият (с тегло 1 грам), понеже:<br>
- Везната ще покаже равно тегло само при едно от тези претегляния и това е случаят, когато от двете страни има тегло от 5 грама (2 + 3 = 1 + 4);<br>
- Най-тежкият камък ще бъде винаги от по-тежката страна в останалите 2 претегляния, с което го определяме еднозначно;<br>
- Най-лекият камък ще бъде винаги от по-леката страна в останалите 2 претегляния, с което също го определяме еднозначно.<br>
Така с четвърто претегляне на останалите два камъка ще определим кой от тях е по-тежък (и съответно тежи 3 грама) и кой по-лек (и е 2 грама).<br><br>

Можем ли да решим задачата с по-малко на брой претегляния?<br>
Всяко претегляне има 3 възможни резултата (лявата страна е по-тежка, равна или по-лека на дясната). Това означава, че едно претегляне ни дава най-много \( \log _{2} 3 \) бита информация.<br>
Имаме \( 4!=24 \) възможни конфигурации за камъните, т.е.  \( \log _{2} 24 \) бита възможости.<br>
Ако имаме нужда от \( n \) претегляния, с които можем да определим еднозначно теглата на камъните, то със сигурност  \( n * \log _{2} 3  \ge \log _{2} 24 \iff \)  \( n  \ge \dfrac{\log _{2} 24}{ \log _{2} 3 } \iff \) \( n  \ge \log _{3} 24 \iff \) \( n  \ge 2.89 \implies \) \( n  \ge 3 \)<br>
Тогава можем ли да решим задачата с 3 претегляния?<br>
Отговорът е отрицателен и за да го покажем, ще трябва да разгледаме по-подробно възможните конфигурации за първо претегляне, които са:<br>
- 1:1 (един камък спрямо един камък).<br>В този случай везната не може да бъде балансирана, а от двата възможни резултата от измерването получаваме точно 1 бит информация. Тъй като теоретичният максимум от останалите 2 измервания е \( 2\log_2 3 \), а \( 1 + 2\log_2 3 \lt log_2 24 \), то нямаме шанс да определим теглото на камъните в общия случай.<br>
- 1:2 (един камък спрямо два камъка).<br>
Имаме 4 конфигурации, при които везната ще е балансирана: (1 + 2 = 3), (2 + 1 = 3), (1 + 3 = 4) и (3 + 1 = 4)<br>
Останалите 20 конфигурации се разпределят за случаите, при които везната няма да е балансирана. Дори и те да са разпределени по равно (което по принцип не е така), т.е. 10 за случая двойката камъни да е по-лека от камъка от другата страна и 10 за случая двойката камъни да е от по-тежката страна, с останалите 2 премервания можем да разграничим най-много \( 3^2 = 9 \) случая, т.е. те са недостатъчно. <br>
- 1:3 (един камък спрямо три камъка).<br>
Едно такова премерване няма да ни даде никаква нова информация, тъй като 3 камъка са винаги по-тежки от един.<br>
- 2:2 (два камъка спрямо два камъка).<br>
Това измерване е единственото, което разделя 24-те възможни конфигурации на камъните на равен на брой подслучаи (8-8-8), т.е. получаваме \( \log _{2} 3 \) бита информация. Това означава, че с оставащите 2 измервания ще трябва да определим еднозначно в коя от оставащите 8 възможности се намираме, което изглежда теоретично възможно. Оказва се, обаче, че нямаме следващо измерване, което да ни даде \(\log _{2} 3 \) бита информация. Например един възможен изход от първото измерване е везната да е балансирана. Повторно премерване от вида (2:2) с друга конфигурация на камъните със сигурност не може да балансира везната. Това е валидно и за премерване от вида (1:1) и (1:3), а премерването (1:2) не разпределя равномерно оставащите случаи (което е необходимо условие за \(\log _{2} 3 \) бита нова информация). Случаят (1:2), когато двата камъка са избирани от различни страни на везната (спрямо първото претегляне), разделя възможните конфигурации на камъните на (2-5-1), което в най-лошия за нас случай оставя 5 възможности, т.е. получаваме под 1 бит информация. Измерване от вида (1:2), когато оставяме двата камъка от едната страна на везната (от първото претегляне), отново никога не балансира везната. Тъй като второто измерване ни дава най-много 1 бит нова информация (т.е. от 8 случая остават поне 4), то третото измерване със сигурност е недостатъчно, а от гледна точка на информацията попадаме в неравенството \( \log_2 3 + 1 +\log_2 3 \lt \log_2 24 \).<br><br>

Въпреки че на пръв поглед непровереният теоретичен минимум ни навежда към 3 претегляния, липсата на практически алгоритъм (поредица от измервания, които да дават всеки път \(\log _{2} 3 \) бита нова информация) води до необходимост от 4 претегляния за решение на задачата в общия случай.<br>
<b>Отговор: 4 претегляния</b>
<hr>
 Основите на <a href="https://bg.wikipedia.org/wiki/%D0%A2%D0%B5%D0%BE%D1%80%D0%B8%D1%8F_%D0%BD%D0%B0_%D0%B8%D0%BD%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%86%D0%B8%D1%8F%D1%82%D0%B0" target=_blank>теорията на информацията</a> са положени от <a href="https://bg.wikipedia.org/wiki/%D0%9A%D0%BB%D0%BE%D0%B4_%D0%A8%D0%B0%D0%BD%D1%8A%D0%BD" target=_blank>Клод Шанън </a> (<a href="https://en.wikipedia.org/wiki/Claude_Shannon" target=_blank>Claude Shannon</a>), срещащ се в литература още под името Шенон. В негова чест е кръстена и мерната единица за информация Шенон, която отдавна е отстъпила място на далеч по-популярния бит. 1 <a href="https://en.wikipedia.org/wiki/Shannon_(unit)" target=_blank>Шенон</a> информация = 1 бит информация = информацията, която получаваме от събитие, което се случва с вероятност 50% = ентропията на система, която има 2 възможни и равновероятностни състояния.<br>
 В решението на задачата често се налагаше да работим с \(\log _{2} 3 \) бита информация, която получаваме от събитие с три възможни и равно вероятни изхода. Това количество информация е равно точно на 1 трит (<a href="https://en.wikipedia.org/wiki/Ternary_numeral_system" target=_blank>trit</a>).
	</div>
</div>
</div>
<!-- end of week 2-->

<script>
function hashChange() {
	if (window.location.hash) {
		var hashID = window.location.hash.substr(1);
        var hashArr = hashID.split(",");
        for (i in hashArr) {
			var obj = document.getElementById(hashArr[i] + (i==0 ? "Toggle" : ""));
			if (obj) {obj.checked = true;}
		}
	}
}
window.onhashchange = hashChange;
window.onload = hashChange;
hashChange();
</script>
<br>
<div class="footer">
<a href="https://www.sap.com/about/careers/who-we-are/locations/sap-labs-bulgaria.html" target="_blank"><p class="footer-element">Виж повече за развойния център на SAP в София</p></a><a href="https://www.sap.com/about/careers/who-we-are/locations/sap-labs-bulgaria.html" target="_blank"><img class="footer-image" src="https://saplabsbg.github.io/technoteaser/docs/images/sap_logo.png" width="40" height="20"></a> <a href="https://www.facebook.com/saplabsbg" target="_blank"><p class="footer-element">Харесай страницата ни във Facebook</p></a><a href="https://www.facebook.com/saplabsbg" target="_blank"><img class="footer-image" src="https://saplabsbg.github.io/technoteaser/docs/images/fb_logo.png" width="30" height="20"></a> <a href="https://jobs.sap.com/search/?q=&locationsearch=bulgaria" target="_blank"><p class="footer-element">Разгледай отворените позиции при нас</p></a><a href="https://jobs.sap.com/search/?q=&locationsearch=bulgaria" target="_blank"><img class="footer-image" src="https://saplabsbg.github.io/technoteaser/docs/images/network.png" width="25" height="25"></a>
</div>

{:/}
