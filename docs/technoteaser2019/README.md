# SAP Техноблъсканица 2019

<link rel="stylesheet" href="../styles/technoteaser.css">

## Седмица №1

Играем в телевизионна игра. Разполагаме с 8 еднакви и неразличими на външен вид кутии, във всяка от които има по 2 камъчета. Всяко камъче може да бъде скъпоценно или не. Избираме една кутия и водещият, без да поглежда в нея, изважда едно от камъчетата. То се оказва скъпоценно. Тогава водещият заявява, че имаме точно 50% шанс и второто камъче в тази кутия да е скъпоценно.<br>
Ако знаем, че първоначално броят на скъпоценните камъчета е не по-малък от броя на нескъпоценните, кои от следните твърдения трябва да са верни?<br>
Приемаме, че водещият знае разпределението на камъчетата в кутиите - в колко кутии скъпоценните камъчета са 2, в колко е 1 и в колко са 0. Водещият обаче не знае какви са камъчетата в една конкретна кутия, тъй като самият той не различава кутиите. 

{::nomarkdown}
<div>
	<input type="checkbox" class="switch-label" id=xxx><label class=explanationbutton for=xxx><span class="switchlabel">Обяснения</span></label>
	<div class="explanation">
В оригинал задачата е популярна като <a href="https://en.wikibooks.org/wiki/Puzzles/Statistical_puzzles/3_Bags_of_Marbles" target="_blank">3 Bags of Marbles</a>, като най-подвеждащото в случая е да съобразим, че въпреки избора на кутия, реално имаме информация само за едно единствено камъче. Можем да се окажем в ситуацията да сме избрали кутия с две скъпоценни камъчета (нека я наречем печеливша) по два различни начина - като изтеглим първото или като изтеглим второто скъпоценно камъче от нея. От друга страна можем да се окажем в ситуацията да сме избрали непечеливша кутия само по един единствен начин - като сме изтеглили единственото пeчелившо камъче от нея.
<h3>Какво е разпределението на камъчетата?</h3>
Означаваме броя на кутиите с по 1 скъпоценно камъче (т.е. броя на непечелившите кутии) с <b title="Брой кутии с едно скъпоценно камъче">x</b>.<br>
Очевидно имаме поне 1 кутия с 2 скъпоценни камъчета, в противен случай шансът за второ скъпоценно камъче в избраната от нас кутия ще бъде 0%.<br>
1. Предполагаме, че първоначално в играта е имало 1 единствена кутия с 2 скъпоценни камъчета в нея. 
Номерираме всички скъпоценни камъчета с v<sub>i</sub> (valuable) и всички нескъпoценни с n<sub>i</sub> (not valuable)<br> 
<style> 
.box {border-style: solid; border-width: 1px; border-radius: 4px 4px 0px 0px; border-color:grey; margin:5px 5px 5px 5px; padding: 0px 2px 1px 2px; background-color:#f7f7f7;white-space: nowrap; line-height: 150%;}
</style>
<span class="box">v<sub>1</sub>, v<sub>2</sub></span> 
<span class="box">v<sub>3</sub>, n<sub>1</sub></span>...<span class="box">v<sub>2+x</sub>, n<sub>x</sub></span>
<br>
По колко начина може да сме стигнали до кутия с извадено скъпоценно камъче?<br>
От печеливша кутия: Изтеглено е v<sub>1</sub> или v<sub>2</sub><br>
От непечеливша кутия:  Изтеглено е v<sub>3</sub> или v<sub>4</sub> ... или v<sub>2+x</sub><br>
Тъй като двете вероятности според водещия са равни, то трябва да имаме точно 2 непечеливши случая и точно 2 кутии с по 1 скъпоценно камъче, т.е. <b title="Брой кутии с едно скъпоценно камъче">x</b>=2<br>
Получаваме общо 4 скъпоценни камъчета и 14 нескъпоценни. Но по условие скъпоценните са поне колкото нескъпоценните, затова 1 кутия с 2 скъпоценни камъчета не е възможно разпределение.<br> 
2. Ако предположим, че имаме 2 кутии с по 2 скъоценни камъчета, то <br> 
<span class="box">v<sub>1</sub>, v<sub>2</sub></span> 
<span class="box">v<sub>3</sub>, v<sub>4</sub></span> 
<span class="box">v<sub>5</sub>, n<sub>1</sub></span> 
...
<span class="box">v<sub>4+x</sub>, n<sub>x</sub></span>
<br>
Имаме 4 възможности за първо избрано камъче от печеливша кутия: v<sub>1</sub>,v<sub>2</sub>,v<sub>3</sub>,v<sub>4</sub><br>
За да имаме 4 възможности от непечеливша кутия, трябва да имаме 4 кутии с по 1 скъпоценно камъче (<b title="Брой кутии с едно скъпоценно камъче">x</b>=4)<br>
Получаваме **2 кутии с по 2 скъпоценни камъчета, 4 кутии с по 1 скъпоценнно камъче** и остават **2 кутии с 2 нескъпоценни камъчета**.<br>
3. Нека предположим, че имаме 3 кутии с по 2 скъпоценни камъчета. <br>
По аналогичен начим виждаме, че трябва да имаме <b title="Брой кутии с едно скъпоценно камъче">x</b>=6 кутии с по 1 скъпоценно камъче, но получаваме общо 3+6=9 кутии, а по условие имаме само 8. Същите разсъждения са валидни за всяко разпределение с повече от 3 печеливши кутии.<br>
Получихме единствено възможно разпределение на камъчетата, откъдето следват няколко верни твърдения:<br>
<nobr><span class="box" style="background-color:#eafff1">v<sub>1</sub>, v<sub>2</sub></span> 
<span class="box" style="background-color:#eafff1">v<sub>3</sub>, v<sub>4</sub></span></nobr>
<nobr><span class="box" style="background-color:#ffffed">v<sub>5</sub>, n<sub>1</sub></span> 
<span class="box" style="background-color:#ffffed">v<sub>6</sub>, n<sub>2</sub></span> 
<span class="box" style="background-color:#ffffed">v<sub>7</sub>, n<sub>3</sub></span> 
<span class="box" style="background-color:#ffffed">v<sub>8</sub>, n<sub>4</sub></span></nobr>
<nobr><span class="box" style="background-color:#f2e6e6">n<sub>5</sub>, n<sub>6</sub></span>
<span class="box" style="background-color:#f2e6e6">n<sub>7</sub>, n<sub>8</sub></span></nobr><br>
✔ _Първоначално в играта е имало точно 2 кутии с по два скъпоценни камъчета_ <br>
✔ _Първоначално половината кутии са имали по едно скъпоценно и едно нескъпоценно камъче_ <br>
✔ _Първоначално в играта е имало равен брой скъпоценни и нескъпоценни камъчета_ <br>
✔ _Първоначално броят на кутиите с 2 скъпоценни камъчета е равен на броя на кутиите с 2 нескъпоценни камъчета_ <br>
<h3>Защо остават нечетен брой камъчета и 50% вероятност за второ скъпоценно камъче?</h3>
След като сме изтеглили и видели едно от камъчетата, не всички останали камъчета участват с еднакво тегло в изчисляването на вероятността за това какво е второто камъче в кутия ни. Например броят на кутиите с по 2 нескъпоценни камъчета и съответно камъчетата от n<sub>5</sub> до n<sub>8</sub> не влияят по никакъв начин на тази вероятност.<br>
Друг поглед върху ситуацията е, че с второто камъче определяме типа кутия. В случая сме имали 50% шанс да изберем първото скъпоценно камъче и текущ шанс 50% за второ скъпоценно камъче, т.е. обща вероятност от 50%∗50%=25% за кутия с 2 скъпоценни камъчета.
<h3>Как променяме шанса си при смяна на кутията?</h3>
От 4-те непечеливши комбинации (камъчета от v<sub>5</sub> до v<sub>8</sub>), когато в кутията ни има второ нескъпоценно камъче, при премахването на нашата кутия в играта остават равен брой скъпоценни и нескъпоценни камъчета и ⇒ 50% шанс за това второто изтеглено камъче да е скъпоценно.<br>
От 4-те печеливши комбинации обаче (камъчета от v<sub>1</sub> до v<sub>4</sub>), когато в кутията ни има второ скъпоценно камъче, при премахването на нашата кутия в играта остават 6 скъпоценни и 8 нескъпоценни камъчета, т.е. имаме шанс за успех 6/14≈42.857%<br> 
Сумарно при смяна на кутиите шансът ни за второ скъпоценно камъче ще бъде по-малък ( ≈ 46.4%).
<hr>
<h3>Проверка на решението</h3>
Тъй като задачата е наистина заблуждаваща, с което е и станала известна, как можем да проверим, че решението е вярно? Все пак теорията на вероятностите е точна наука и един конкретен изход от една конкретна ситуация трябва да се сбъдва с една единствена вероятност, т.е. различни интерпретации са невъзможни.<br>
Нека вземем предложеното решение за кутии и разиграем достатъчно много на брой пъти ситуацията (например 10 000 пъти), за да придобием представа за вероятността. За целта ще напишем програма, която дословно следва условието на задачата, т.е.
1. На случаен принцип избираме една от осемте налични кутии
2. На случаен принцип избираме едно камъче от вече избраната кутия
3. Ако камъчето е нескъпоценно, игнорираме ситуацията, защото не отговаря на условието (продължаваме нататък без да правим нищо)
4. Ако камъчето е скъпоценно, преброяваме ситуацията като печеливша или не спрямо второто камъче в избраната кутия
Примерна програма на Java, преброяваща 10 000 валидни ситуации:
{:/}

```java
int[][] setup = { {1,1}, {1,1}, {1,0}, {1,0}, {1,0}, {1,0} }; //,{0,0},{0,0}
Random r = new Random();
int successfullPositions = 0;
int unsuccessfullPositions = 0;
for(int i=0; i<10000; i++) {
	int boxIndex = r.nextInt(setup.length);
	int[] box = setup[boxIndex];
	int firstMarbleIndex = r.nextInt(2); 
	int marble = box[firstMarbleIndex];
	if (marble != 1) {
		i--;
		continue;
	}
	int secondMarbleIndex = (firstMarbleIndex+1)%2;
	if (box[secondMarbleIndex] == 1) {
		successfullPositions++;
	} else {
		unsuccessfullPositions++;
	}
}
System.out.println("successful:" + successfullPositions + "; unsuccessful:" + unsuccessfullPositions);
```

{::nomarkdown}
Единственото отклонение от оригиналната ситуация е премахването на двете кутии с по 2 нескъпоценни камъчета в тях, понеже те добавят само неефективност в изпълнението, а програмата би връщала същия резултат и без тях. Примерен резултат:
<div style=" background: grey;border: 1px solid #ccc; color: white; display: block;padding: 5px;width: 100%;font-size: 85%;">successful:5010; unsuccessful:4990</div>
<div style=" background: grey;border: 1px solid #ccc; color: white; display: block;padding: 5px;width: 100%;font-size: 85%;">successful:4981; unsuccessful:5019</div>
<br>
Изпълнение на програмата при равен брой кутии с по 2 и с по 1 скъпоценно камъче също показва достатъчно ясно два пъти повече печеливши ситуации спрямо непечелившите.
{:/}

```java
int[][] setup = { {1,1}, {1,1}, {1,1}, {1,1}, {1,0}, {1,0}, {1,0}, {1,0} }; 
```

{::nomarkdown}
<div style=" background: grey;border: 1px solid #ccc; color: white; display: block;padding: 5px;width: 100%;font-size: 85%;">successful:6572; unsuccessful:3428</div>		
			
		
	</div> 
</div>
{:/}


<hr>

Колко са естествените числа (цели положителни числа ≥ 1), които са равни на произведението от цифрите си?<br>
Ако са безкрайно много, отговорете с английската буква i (от infinitely many) 

<hr>

Ученик неволно откъснал един лист от учебника си по математика. След това пресметнал сумата от номерата на останалите страници в учебника и получил 2019 +/- 1 (2018, 2019 или 2020, за да бъдем по-точни).<br>
Колко страници е имал първоначално учебникът?<br>
Приемаме, че само последната страница в учебника може да бъде празна и неномерирана.<br>
Ако първоначалният брой страници не може да се определи еднозначно, моля отговорете с английската буква u (от undefined). 

## Седмица №2

Миналата година (т.е. беше ден от 2018 г.) разговарях с Марто за неговия рожден ден. Той ми каза следното:

> Онзи ден (денят преди вчера) бях само на 14 години, но следващата година ставам на 17 години.

Каква е рождената дата на Марто?<br>
Приемаме, че на рождената си дата човек (през целия ден) е с 1 година по-възрастен, отколкото е бил на предходния ден.<br>
Моля, отговорете във формата dd.mm.yyyy (например 01.03.2019 за първи март 2019 г.) или с английската буква u (от undefined), ако рождената дата не може да бъде определена еднозначно. 

<hr>

Катя е в първи клас и е добра по математика.<br>
Тя е написала следното изречение, заменяйки някои числа в него със символа _ (долна черта):

> В това изречение<br>
> цифрата 1 се среща _ път(и),<br>
> цифрата 2 се среща _ път(и),<br>
> цифрата 3 се среща _ път(и),<br>
> цифрата 4 се среща _ път(и),<br>
> цифрата 5 се среща _ път(и),<br>
> цифрата 6 се среща _ път(и),<br>
> цифрата 7 се среща _ път(и),<br>
> цифрата 8 се среща _ път(и) и<br>
> цифрата 9 се среща _ път(и).<br>

По колко различни начина Катя е можела да напише това изречение, така че то да е вярно, ако тя може да смята до 9 включително и затова в изречението има само едноцифрени числа? 

<hr>

Жорко е по-голям от Катя и е написал следното по-сложно изречение:

> В това изречение<br>
 цифрата 1 се среща _ път(и),<br>
 цифрата 2 се среща _ път(и),<br>
 цифрата 3 се среща _ път(и),<br>
 цифрата 4 се среща _ път(и),<br>
 цифрата 5 се среща _ път(и),<br>
 цифрата 6 се среща _ път(и),<br>
 цифрата 7 се среща _ път(и),<br>
 цифрата 8 се среща _ път(и),<br>
 цифрата 9 се среща _ път(и) и<br>
 числото 10 се среща _ път(и).

По колко различни начина Жорко е можел да напише това изречение, така че то да е вярно, ако той може да смята с произволно големи цели числа?<br>
Приемаме, че ако изречението съдържа твърдението
> числото 10 се среща 101 път(и)

то за тази част от изречението трябва да преброим 2 срещания на цифрата 0, 3 срещания на цифрата 1 и 2 срещания на числото 10.

## Седмица №3

Принц посещава далечен остров, на който живеят две племена. Хората от първото племе винаги казват истината, а хората от второто племе винаги лъжат. Принцът присъства като зрител на игрите по случай новата 1823 година, на които хора от двете племена играят своя общ островитянски танц. Играта е по двойки, като от време на време някои хора сменят своя партньор, някои хора влизат, а други излизат от играта. След игрите принцът попитал всеки танцувал по отделно, с колко хора, казващи истината, е играл, като записвал това число в своя тефтер. Когато приключил, принцът с учудване установил, че е получавал все различни отговори, намирайки в тефтера си числата от 0 до 1822 точно по веднъж.<br>
Колко хора, казващи истината, са взели участие в игрите?<br>
Приемаме, че всички на острова се познават помежду си и знаят кой от кое племе е.<br>
Отговорете с английската буква u (от undefined), ако информацията е недостатъчна, за да се отговори еднозначно.

<hr>

Колко естествени числа имат свойството сумата от цифрите и произведението от цифрите им да са равни?<br>
Ако са безкрайно много, отговорете с английската буква i (infinitely many).<br>
Приемаме, че сумата, както и произведението от цифрите на едноцифрено число са равни на самото число.

<hr>

Разполагаме с цифрите от 1 до 9, подредени във възходящ ред (всяка цифра присъства точно един път), както и с аритметичните операции събиране (+), изваждане (-), умножение (∗) и деление (/).<br>
Между всеки две съседни цифри имаме право да поставим най-много една от тези операции, като всяка операция можем да ползваме произволен брой пъти. Съседни цифри, между които не поставим операция, участват в израза като многоцифрено число.<br>
Колко различни аритметични израза, равни на 465, можем да създадем по този начин?<br>
Приемаме, че важат стандартните приоритети на операциите (умножението и делението са с по-висок приоритет от събирането и изваждането), операциите са ляво асоциативни (т.е. операции с един и същи приоритет се изпълняват от ляво надясно, например 12/3/4=1) и не можем да използваме скоби за смяна на така дефинираната последователност на изчисленията.

## Седмица №4

Пламен харесва Ани, но Ани харесва Георги.<br>
Пламен е обвързан, а Георги не е.<br>
Можем ли да твърдим със сигурност, че в компанията на Пламен, Ани и Георги (без участието на други хора) обвързан човек харесва необвързан човек?<br>
Приемаме, че човек може да бъде или обвързан, или необвързан.

<hr>

Колко са естествените числа n, за които n2 + 2019 е точен квадрат?

<hr>

Тройка на Питагор формират всеки 3 естествени числа a,b и c, всичките по-големи от 1, такива че а<sup>2</sup> + b<sup>2</sup> = c<sup>2</sup>.<br>
Колко са тройките на Питагор, при които най-малкото число е ≤ 10000, ако приемем, че наредбата на числата няма значение?<br>
Пример: (10000,10500,14500) и (10500,10000,14500) са една и съща тройка на Питагор, отговаряща на условието.


## Седмица №5


